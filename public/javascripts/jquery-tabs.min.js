(function(){var a,b,c,d,e=function(a,b){return function(){return a.apply(b,arguments)}};a=jQuery,b=function(){function a(a){this.element=a}return a.prototype.open=function(){return this.element.addClass("open")},a.prototype.close=function(){return this.element.removeClass("open")},a}(),c=function(){function c(c){var d;this.element=c,d=a("#"+this.element.attr("data-panel")),this.panel=new b(d)}return c.prototype.listen=function(a){return a.bind("tab:activate",e(function(a,b){if(!this.element.is(b))return this.deactivate();if(!this.isActive())return this.activate()},this))},c.prototype.isActive=function(){return this.element.hasClass("active")},c.prototype.activate=function(){return this.element.addClass("active"),this.panel.open()},c.prototype.deactivate=function(){return this.element.removeClass("active")},c}(),d=function(){function b(a){this.element=a,this.register(this.element.find("li")),this.bindTabs()}return b.prototype.register=function(b){return b.each(e(function(b,d){var e;return e=new c(a(d)),e.listen(this.element)},this))},b.prototype.bindTabs=function(){return this.element.delegate("a","click",e(function(b){var c;return c=a(b.currentTarget),c.trigger("tab:activate",c.parent()),!1},this))},b}(),a.fn.tabs=function(){return this.each(function(){var b,c;return b=a(this),c=new d(b)})}}).call(this)